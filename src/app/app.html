<div class="p-4 text-white min-h-screen bg-slate-900 flex flex-col">

  <!-- Title -->
  <div class="text-center mb-4">
    <h1 class="text-lg font-semibold">Ballistic Dope Card</h1>
    <div class="mt-1 h-[1px] bg-slate-700 mx-auto w-40"></div>
  </div>

  <!-- Main content area -->
  <div class="flex-1 overflow-y-auto pb-16">
    <!-- MENU TAB -->
    <div *ngIf="currentTab === 'menu'" class="max-w-md mx-auto space-y-3">

      <div class="bg-slate-800 rounded-2xl p-4 shadow space-y-3">
        <h2 class="text-sm font-semibold mb-1">Main menu</h2>

        <!-- Start Event -->
        <button
          class="w-full px-3 py-2 rounded-xl bg-emerald-500 text-slate-900 text-sm font-semibold"
          (click)="startEvent()">
          Start event
        </button>

        <!-- Load Development (future) -->
        <button
          class="w-full px-3 py-2 rounded-xl bg-slate-700 text-sm"
          (click)="showLoadDevelopmentInfo()">
          Load development (future)
        </button>

        <!-- Reports -->
        <button
          class="w-full px-3 py-2 rounded-xl bg-slate-700 text-sm"
          (click)="openReports()">
          Reports
        </button>
      </div>

      <!-- Simple Reports mini-wizard -->
      <div *ngIf="showReportsForm" class="bg-slate-800 rounded-2xl p-4 shadow space-y-2">
        <h3 class="text-sm font-semibold">Reports â€“ what do you need?</h3>
        <p class="text-[11px] text-slate-300">
          This will query your History data. Examples: previous dope at the same venue,
          results with a specific rifle, or all sessions in a date range.
        </p>

        <label class="flex flex-col text-[11px]">
          Describe the information you want
          <input
            [(ngModel)]="reportTopic"
            name="reportTopic"
            placeholder="e.g. Last 5 sessions at Royal Flush, 500 m"
            class="mt-1 px-2 py-1 rounded bg-slate-900 border border-slate-700" />
        </label>

        <label class="flex flex-col text-[11px]">
          Extra details (optional)
          <textarea
            [(ngModel)]="reportDetails"
            name="reportDetails"
            rows="2"
            class="mt-1 px-2 py-1 rounded bg-slate-900 border border-slate-700"></textarea>
        </label>

        <div class="flex justify-end gap-2 mt-2">
          <button
            class="px-3 py-1 text-xs rounded bg-slate-700"
            (click)="showReportsForm = false">
            Cancel
          </button>
          <button
            class="px-3 py-1 text-xs rounded bg-emerald-500 text-slate-900 font-semibold"
            (click)="submitReportRequest()">
            Save request
          </button>
        </div>
      </div>
    </div>

    <!-- RIFLES TAB -->
    <div *ngIf="currentTab === 'rifles'" class="max-w-md mx-auto">
      <app-rifles-tab></app-rifles-tab>
    </div>

    <!-- VENUES TAB -->
    <div *ngIf="currentTab === 'venues'" class="max-w-md mx-auto">
      <app-venues-tab></app-venues-tab>
    </div>

    <!-- SESSION TAB -->
    <div *ngIf="currentTab === 'session'" class="max-w-md mx-auto">
      <app-session-tab></app-session-tab>
    </div>

    <!-- HISTORY TAB -->
    <div *ngIf="currentTab === 'history'" class="max-w-md mx-auto">
      <app-history-tab></app-history-tab>
    </div>
  </div>

  <!-- Bottom tab bar -->
  <div
    class="fixed left-0 right-0 bottom-0 bg-slate-950/95 border-t border-slate-800 py-2 px-4">
    <div class="max-w-md mx-auto flex justify-between text-[11px]">

      <!-- Menu -->
      <button
        class="flex-1 flex flex-col items-center"
        (click)="setTab('menu')">
        <span
          class="px-3 py-1 rounded-full"
          [ngClass]="currentTab === 'menu'
            ? 'bg-emerald-500 text-slate-900 font-semibold'
            : 'text-slate-300'">
          Menu
        </span>
      </button>

      <!-- Rifles -->
      <button
        class="flex-1 flex flex-col items-center"
        (click)="setTab('rifles')">
        <span
          class="px-3 py-1 rounded-full"
          [ngClass]="currentTab === 'rifles'
            ? 'bg-emerald-500 text-slate-900 font-semibold'
            : 'text-slate-300'">
          Rifles
        </span>
      </button>

      <!-- Venues -->
      <button
        class="flex-1 flex flex-col items-center"
        (click)="setTab('venues')">
        <span
          class="px-3 py-1 rounded-full"
          [ngClass]="currentTab === 'venues'
            ? 'bg-emerald-500 text-slate-900 font-semibold'
            : 'text-slate-300'">
          Venues
        </span>
      </button>

      <!-- Session -->
      <button
        class="flex-1 flex flex-col items-center"
        (click)="setTab('session')">
        <span
          class="px-3 py-1 rounded-full"
          [ngClass]="currentTab === 'session'
            ? 'bg-emerald-500 text-slate-900 font-semibold'
            : 'text-slate-300'">
          Session
        </span>
      </button>

      <!-- History -->
      <button
        class="flex-1 flex flex-col items-center"
        (click)="setTab('history')">
        <span
          class="px-3 py-1 rounded-full"
          [ngClass]="currentTab === 'history'
            ? 'bg-emerald-500 text-slate-900 font-semibold'
            : 'text-slate-300'">
          History
        </span>
      </button>
    </div>
  </div>
</div>
